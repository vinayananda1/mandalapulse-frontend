<!-- index.html â€” MandalaPulse Netlify Cloud Invocation -->
<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MandalaPulse</title>

<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#0a66b2">
<meta name="description" content="MandalaPulse — a spiritually aligned PWA with mindful prompts and ritualized automations.">

<link rel="icon" href="/favicon.png" type="image/png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="icon" sizes="48x48" href="/icon-48.png">
<link rel="icon" sizes="192x192" href="/icon-192.png">
<link rel="icon" sizes="512x512" href="/icon-512.png">
  <title>MandalaPulse</title>
</head><body>
  <h2>Register User</h2>
  <input type="text" id="username" placeholder="Username" />
  <input type="password" id="password" placeholder="Password" />
  <button onclick="register()">Register</button>

  <h2>Verify Login</h2>
  <input type="text" id="loginUser" placeholder="Username" />
  <input type="password" id="loginPass" placeholder="Password" />
  <button onclick="verify()">Verify</button>

  <div id="result">Awaiting invocationâ€¦</div>

  <script>
    // Replace with your actual Firebase project ID
    const baseFn = "https://us-central1-mandalapulsestudio.cloudfunctions.net";

    async function register() {
      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;
      const res = await fetch(`${baseFn}/registerUser`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ username, password })
      });
      const data = await res.json();
      document.getElementById("result").innerText = JSON.stringify(data, null, 2);
    }

    async function verify() {
      const username = document.getElementById("loginUser").value;
      const password = document.getElementById("loginPass").value;
      const res = await fetch(`${baseFn}/verifyLogin`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ username, password })
      });
      const data = await res.json();
      document.getElementById("result").innerText = JSON.stringify(data, null, 2);
    }
  </script>
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/service-worker.js").catch(()=>{/* sw register failed */});
}
</script>
</body>
</html>
